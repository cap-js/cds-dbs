<!doctype html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CQN4SQL Benchmarks</title>
<style>
  :root { --fg:#111; --muted:#666; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial; margin: 24px; color: var(--fg); }
  h1 { margin: 0 0 8px; font-size: 20px; }
  #chart { width: 100%; height: 72vh; }
  .meta { margin: 6px 0 12px; color: var(--muted); font-size: 12px; }
  label { font-size: 12px; margin-right: 6px; color: var(--muted); }
  select { font-size: 12px; margin-right: 12px; }
</style>

<h1>CQN4SQL Benchmarks</h1>
<div class="meta">
  Data: cqn4sql-benchmarks.json â€¢ Commits: 12
  <br>
  Measurements in requests per second (higher is better)
</div>

<div>
  <label for="metric">Metric:</label>
  <select id="metric"></select>

  <label for="bench">Benchmark:</label>
  <select id="bench"><option value="__all__">All</option></select>
</div>

<div id="chart"></div>

<script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
<script>
  const COMMITS = ["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"];
  const COMMIT_DATES = ["2025-08-27T15:03:45.583Z","2025-08-27T15:06:07.491Z","2025-08-27T15:21:15.094Z","2025-08-27T15:47:11.987Z","2025-08-27T15:47:51.334Z","2025-08-27T15:50:34.031Z","2025-08-27T15:53:50.826Z","2025-08-27T15:55:43.622Z","2025-08-27T16:09:15.187Z","2025-08-27T16:51:33.834Z","2025-08-28T09:34:23.170Z","2025-08-28T10:27:33.581Z"];
  const METRICS = ["mean","stddev","total","p50","p90","p99","min","max"];
  const INITIAL_METRIC = "mean";
  const BENCH_NAMES = ["assoc2join recursive (depth 3)","assoc2join simple","exists recursive (depth 3)","exists simple","exists simple with path expression","expand recursive (depth 3)","expand simple","select simple","select wildcard","select wildcard with calculated element"];
  const ALL_SERIES = {"mean":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42480,45888,45600,45984,45456,45232,45984,46080,44128,45296,44133.34,42743.12]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[53792,54800,53680,52080,52816,53520,53856,53888,52960,52768,52094.23,50263.12]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[46192,46080,45408,45376,45520,45856,46725.34,45728,41888,42112,41907.56,42106.67]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8144,8352,8199,59616,59952,57360,59328,59008,60560,59808,58544,58629.34]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22560,23472,21398.23,22781.34]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[7926,8123,8213,8088,8219,8236,8221,8416,8179,8213,8377.34,8388.89]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[20440,20016,20280,20184,20288,20216,20370.67,20648,20264,20176,20441.78,20217.78]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87328,87520,88224,87808,87200,87008,85984,89216,89536,88736,85436.45,89539.56]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,76042.67,79192.89]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,33055.12,33747.56]}],"stddev":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[384,80,16,240,352,640,272,144,656,128,916.22,1257.29]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[1328,288,288,960,96,480,16,304,784,1552,1052.29,4630.34]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[224,528,144,528,320,528,510.89,176,16,720,692.67,621.06]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[26,36,181,144,128,864,624,720,320,816,1327.48,1334.15]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,344,8,426.3,62.2]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[252,145,199,22,49,32,47,4,137,119,55.3,54.19]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[608,376,320,144,440,96,517.04,528,704,360,87.46,682.36]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[64,768,256,288,256,384,2304,416,224,832,995.66,1674.94]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,1059.82,920.78]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,605.63,188.68]}],"total":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[128504,137312,134677,136546,133427,136285,136085,138192,132577,136314,439593,424099]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[159915,164553,162826,158696,160611,159217,162938,162411,156900,145122,521139,504886]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[139422,139483,137346,136505,137895,137136,140188,137503,127501,126500,419516,421361]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[24353,25059,24403,178296,181216,173453,177818,177942,178901,179837,582187,587313]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,67606,70623,214081,227865]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[23912,24649,24668,24410,24486,24484,24695,25342,24638,24564,83738,83893]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[61476,60756,61170,61287,61279,60190,61110,62540,61689,61070,204523,202536]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[262221,262842,264485,262013,262459,259344,258747,266546,269236,266153,829228,897960]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,751781,793244]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,330054,337316]}],"p50":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42111,45823,45599,45759,45119,44607,45727,45951,43487,45183,44671,43327]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[52479,54527,53407,51135,52735,53055,53855,53599,52191,51231,52575,51775]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[45983,45567,45279,44863,45215,45343,46911,45567,41887,41407,42143,42207]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8119,8319,8019,59487,59839,56511,58719,58303,60255,59007,58847,58911]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22223,23471,21439,22767]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[7675,7979,8015,8067,8171,8207,8175,8415,8043,8095,8383,8407]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[19839,19647,19967,20047,19855,20127,20719,20127,19567,19823,20479,20607]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87295,86783,87999,87551,86975,86655,83711,88831,89343,87935,85503,90303]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,76287,79167]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,33247,33759]}],"p90":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42879,45983,45631,46239,45823,45887,46271,46239,44799,45439,44991,44319]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[55135,55103,53983,53055,52927,54015,53887,54207,53759,54335,52927,52639]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[46431,46623,45567,45919,45855,46399,47263,45919,41919,42847,42655,43007]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8171,8391,8383,59775,60095,58239,59967,59743,60895,60639,59359,60095]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22911,23487,21999,22943]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8179,8271,8415,8111,8271,8271,8271,8423,8319,8335,8463,8447]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[21055,20399,20607,20335,20735,20319,20767,21183,20975,20543,20543,20943]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87423,88319,88511,88127,87487,87423,88319,89663,89791,89599,87039,91071]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,77951,80447]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,33663,34015]}],"p99":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42879,45983,45631,46239,45823,45887,46271,46239,44799,45439,44991,44319]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[55135,55103,53983,53055,52927,54015,53887,54207,53759,54335,52927,52639]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[46431,46623,45567,45919,45855,46399,47263,45919,41919,42847,42655,43007]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8171,8391,8383,59775,60095,58239,59967,59743,60895,60639,59359,60095]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22911,23487,21999,22943]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8179,8271,8415,8111,8271,8271,8271,8423,8319,8335,8463,8447]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[21055,20399,20607,20335,20735,20319,20767,21183,20975,20543,20543,20943]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87423,88319,88511,88127,87487,87423,88319,89663,89791,89599,87039,91071]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,77951,80447]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,33663,34015]}],"min":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42091,45799,45589,45749,45100,44580,45714,45944,43473,45177,42005,40717]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[52462,54505,53400,51120,52722,53051,53826,53593,52162,51214,49418,37234]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[45979,45565,45256,44854,45211,45323,46032,45538,41871,41377,40691,41163]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8117,8319,8017,59475,59836,56504,58704,58282,60246,58977,54824,55979]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22220,23471,20623,22715]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[7673,7979,8012,8065,8171,8204,8172,8415,8042,8095,8255,8249]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[19829,19641,19963,20047,19845,20115,19638,20121,19567,19820,20254,19211]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87254,86776,87958,87523,86930,86614,83700,88807,89314,87931,83675,86202]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,73635,77701]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,31731,33322]}],"max":[{"name":"assoc2join recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[42872,45980,45628,46210,45816,45879,46240,46232,44797,45433,44973,44305]},{"name":"assoc2join simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[55129,55102,53983,53037,52917,53988,53885,54197,53755,54312,52906,52613]},{"name":"exists recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[46426,46621,45553,45917,45855,46370,47245,45902,41898,42833,42639,42981]},{"name":"exists simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8168,8384,8377,59758,60091,58228,59956,59733,60874,60620,59337,60074]},{"name":"exists simple with path expression","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,22902,23478,21999,22936]},{"name":"expand recursive (depth 3)","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[8176,8269,8409,8111,8268,8268,8266,8419,8316,8335,8461,8440]},{"name":"expand simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[21042,20392,20592,20320,20725,20306,20766,21171,20967,20536,20534,20933]},{"name":"select simple","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[87407,88269,88496,88103,87459,87398,88317,89641,89782,89539,87021,91014]},{"name":"select wildcard","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,77921,80393]},{"name":"select wildcard with calculated element","x":["8ea5c2b9","19731f02","95c3b619","0d15c979","c8575c73","b1185062","661cb21d","894466ad","8ef8958b","589006ca","f31fbb68","f8035155"],"y":[null,null,null,null,null,null,null,null,null,null,33651,34001]}]};

  const metricEl = document.getElementById('metric');
  METRICS.forEach(m => {
    const opt = document.createElement('option');
    opt.value = m; opt.textContent = m;
    if (m === INITIAL_METRIC) opt.selected = true;
    metricEl.appendChild(opt);
  });

  const benchEl = document.getElementById('bench');
  BENCH_NAMES.forEach(n => {
    const opt = document.createElement('option');
    opt.value = n; opt.textContent = n;
    benchEl.appendChild(opt);
  });

  function tracesFor(metric, benchName) {
    const base = {
      mode: 'lines+markers',
      connectgaps: false,
      x: COMMITS,
      customdata: COMMIT_DATES,
      hovertemplate:
        '<b>%{fullData.name}</b><br>' +
        'commit: %{x}<br>' +
        'value: %{y:.0f}<br>' +
        '%{customdata|%Y-%m-%d %H:%M:%S}<extra></extra>'
    };
    const series = ALL_SERIES[metric] || [];
    const chosen = benchName === '__all__' ? series : series.filter(s => s.name === benchName);
    return chosen.map(s => Object.assign({}, base, { name: s.name, y: s.y }));
  }

  const layout = {
    xaxis: { title: 'Commit', type: 'category', tickangle: -45, automargin: true },
    yaxis: { title: 'Requests / second', rangemode: 'tozero' },
    hovermode: 'x unified',
    legend: { orientation: 'h' },
    margin: { l: 60, r: 20, t: 10, b: 80 }
  };

  function render() {
    const m = metricEl.value;
    const b = benchEl.value;
    const traces = tracesFor(m, b);
    const l = Object.assign({}, layout, { yaxis: Object.assign({}, layout.yaxis, { title: 'Requests / second ('+m+')' }) });
    Plotly.newPlot('chart', traces, l, { displayModeBar: true, responsive: true });
  }

  metricEl.addEventListener('change', render);
  benchEl.addEventListener('change', render);
  render();
</script>
</html>